#!/usr/bin/env bash

pwd && find ./ -type f -print0 | xargs -0 sed -i 's/<script src="\/live2dw.*script>//g' && git clone https://github.com/ashjian/picBed picbed && rm -rf picbed/.git && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@https://raw.githubusercontent.com/ashjian/picBed/master@/picbed@g'
find /opt/build/repo -type f -print0 | xargs -0 sed -i 's#https://cdn.jsdelivr.net/gh/ashjian/picBed@1.0#/picbed#g'
find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@https://gitee.com/ashjian/picBed/raw/master@/picbed@g'
git clone -b main https://github.com/ashjian/picBed02 picbed02 && rm -rf picbed02/.git && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@https://raw.githubusercontent.com/ashjian/picBed02/main@/picbed02@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's#https://cdn.jsdelivr.net/gh/ashjian/picBed02@1.0#/picbed02#g'
git clone -b main https://github.com/ashjian/picbed03 picbed03 && rm -rf picbed03/.git && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@https://raw.githubusercontent.com/ashjian/picbed03/main@/picbed03@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's#https://cdn.jsdelivr.net/gh/ashjian/picbed03@main#/picbed03#g'
find /opt/build/repo -type f -print0 | xargs -0 sed -i 's/http:\/\/www.ashjian.xyz//g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's/ashjian//g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's/uploads//g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's/images//g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's/model.1024//g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's/assets//g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's/APlayer.min.js//g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's/Meting.min.js//g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's/APlayer.min.css//g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's/live2dw//g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's/1391856151//g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's/13671474528@163.com//g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's/本博客诞生于 2020-07，用来总结自己的学习和经验//g' && mkdir temp && cd temp && wget https://unpkg.com/valine@1.5.1/dist/Valine.min.js && wget https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js && wget https://unpkg.com/leancloud-storage@3/dist/av-min.js && cd /opt/build/repo && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@//unpkg.com/valine/dist/Valine.min.js@/temp/Valine.min.js@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@//cdn1.lncld.net/static/js/3.0.4/av-min.js@/temp/av-min.js@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@//lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05@@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@//alipay_cash_code.png@@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@//avatar.png@@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@//weixin_cash_code.png@@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@//apple-touch-icon-next.png?v=5.1.4@@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@//favicon-32x32-next.png?v=5.1.4@@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@//favicon-16x16-next.png?v=5.1.4@@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@//background.jpg@@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@https://cdn.jsdelivr.net/gh//videoBed/lib/DPlayer.min.css@@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@https://cdn.jsdelivr.net/gh//videoBed/lib/jquery-3.5.1.min.js@@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@https://cdn.jsdelivr.net/gh//videoBed/lib/hls.min.js@@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@https://cdn.jsdelivr.net/gh//videoBed/lib/DPlayer.min.js@@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@https://cdn.jsdelivr.net/gh//videoBed/22/playlist.m3u8@@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's&https://cdn.jsdelivr.net/gh//picbed03@main/blogimg&https://python2.netlify.app/assent/img&g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@//xn--2-9v8a97wdj0b90fdt5a.jpg@@g' && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js@@g' && wget https://gitee.com/elaw/image/raw/hexo/assent.zip && unzip assent.zip && rm -rf assent.zip && find /opt/build/repo -type f -print0 | xargs -0 sed -i 's@https://cdn.jsdelivr.net/gh//videoBed.*\.jpg@@g'
